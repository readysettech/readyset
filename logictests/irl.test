# CONFIDENTIAL TO IRL.COM

statement ok
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `role_id` bigint DEFAULT NULL,
  `first` varchar(155) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last` varchar(155) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `username` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `iso_code` varchar(2) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(155) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `avatar` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT 'users/default.png',
  `picture` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT '',
  `code` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `signed_up` tinyint(1) DEFAULT '0',
  `key` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `granted_notifs` tinyint(1) DEFAULT '0',
  `granted_contacts` tinyint(1) DEFAULT '0',
  `latitude` double(18,12) unsigned DEFAULT NULL,
  `longitude` double(18,12) DEFAULT NULL,
  `timezone` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_session` datetime DEFAULT NULL,
  `location_hidden` tinyint(1) DEFAULT '0',
  `is_deleted` tinyint(1) DEFAULT '0',
  `birthday` date DEFAULT NULL,
  `gender` char(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `school_type` char(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `school_id` int DEFAULT NULL,
  `grade` int DEFAULT NULL,
  `signup_date` datetime DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `hex_color` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_verified` tinyint NOT NULL DEFAULT '0',
  `bio` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_public` tinyint NOT NULL DEFAULT '0',
  `organization_id` int DEFAULT NULL,
  `ip_address` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_older_than_thirteen` tinyint NOT NULL DEFAULT '0',
  `profile_background` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `app_download_token` varchar(155) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `api_content_provider_name` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `api_content_provider_id` varchar(155) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_login` timestamp NULL DEFAULT NULL,
  `permissions` json DEFAULT NULL,
  `encrypted_email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `encrypted_phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(60) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `opted_in_for_sms_to_contacts` tinyint NOT NULL DEFAULT '0',
  UNIQUE KEY `phone` (`phone`),
  UNIQUE KEY `users_username_unique` (`username`),
  UNIQUE KEY `users_email_unique` (`email`),
  UNIQUE KEY `app_download_token` (`app_download_token`) USING BTREE,
  UNIQUE KEY `key` (`key`),
  UNIQUE KEY `api_content_provider_name_id_composite_index` (`api_content_provider_name`,`api_content_provider_id`),
  KEY `last_session` (`last_session`),
  KEY `signup_date` (`signup_date`),
  KEY `timezone` (`timezone`),
  KEY `picture` (`picture`),
  KEY `updated_at` (`updated_at`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


statement ok
CREATE TABLE `users_friends` (
  `id` int unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `user_id` int DEFAULT NULL,
  `friend_id` int DEFAULT NULL,
  `muted` tinyint(1) DEFAULT '0',
  `is_deleted` tinyint(1) DEFAULT '0',
  `ignored` tinyint(1) DEFAULT '0',
  `blocked` tinyint(1) DEFAULT '0',
  `is_close_friend` tinyint(1) DEFAULT '0',
  `reminder_notif_sent_at` datetime DEFAULT NULL,
  `friend_request_sent_at` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `friend_dismissed_friend_prompt` tinyint NOT NULL DEFAULT '0',
  `requested` tinyint(1) NOT NULL DEFAULT '0',
  `request_denied` tinyint NOT NULL DEFAULT '0',
  `is_subscribed` tinyint NOT NULL DEFAULT '0',
  `seen_close_friend` tinyint(1) DEFAULT '0',
  `is_followed_from_contacts` tinyint NOT NULL DEFAULT '0',
  UNIQUE KEY `friend_id_user_id_index` (`friend_id`,`user_id`),
  KEY `user_id` (`user_id`),
  KEY `updated_at` (`updated_at`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


statement ok
CREATE TABLE `users_groups` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `user_id` int unsigned NOT NULL,
  `group_id` int unsigned NOT NULL,
  `inviter_id` int unsigned NOT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT NULL,
  `is_seen` tinyint(1) NOT NULL DEFAULT '0',
  `chat_tab_updated_at` datetime DEFAULT NULL,
  `pending` tinyint NOT NULL DEFAULT '0',
  `joined_at` datetime DEFAULT NULL,
  `last_opened_at` datetime DEFAULT NULL,
  `mute_until` datetime DEFAULT NULL,
  `denied_at` timestamp NULL DEFAULT NULL,
  `is_requested` tinyint NOT NULL DEFAULT '0',
  UNIQUE KEY `user_id_group_id_index` (`user_id`,`group_id`),
  KEY `users_groups_joined_at_index` (`joined_at`),
  KEY `inviter_id_index` (`inviter_id`),
  KEY `group_id_user_id` (`group_id`,`user_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


statement ok
CREATE TABLE `groups` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int unsigned NOT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT NULL,
  `suggested_group_id` int DEFAULT NULL,
  `image` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `key` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `chat_tab_updated_at` datetime DEFAULT NULL,
  `organization_id` int DEFAULT NULL,
  `is_official_for_org` int NOT NULL DEFAULT '0',
  `can_send_invites` tinyint NOT NULL DEFAULT '1',
  `description` text COLLATE utf8mb4_unicode_ci,
  `add_all_org_members` tinyint NOT NULL DEFAULT '0',
  `is_paid` tinyint NOT NULL DEFAULT '0',
  `is_restricted` tinyint(1) NOT NULL DEFAULT '0',
  `other_user_id` int DEFAULT NULL,
  `is_public` tinyint(1) NOT NULL DEFAULT '0',
  `latitude` double(18,12) unsigned DEFAULT NULL,
  `longitude` double(18,12) DEFAULT NULL,
  `address` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `chat_messages_disabled_for_members` tinyint NOT NULL DEFAULT '0',
  `chat_images_disabled_for_members` tinyint NOT NULL DEFAULT '0',
  `chat_polls_disabled_for_members` tinyint NOT NULL DEFAULT '0',
  `is_request_to_join` tinyint NOT NULL DEFAULT '0',
  `is_approved_for_explore` tinyint NOT NULL DEFAULT '0',
  `is_name_auto_generated` tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `key` (`key`),
  UNIQUE KEY `other_user_id_user_id_unique` (`other_user_id`,`user_id`),
  KEY `user_id_index` (`user_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


statement ok
CREATE TABLE `mutual_follow_groups` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `user_id_larger` int NOT NULL,
  `user_id_smaller` int NOT NULL,
  `group_id` int NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  UNIQUE KEY `user_id_larger_smaller_unique_index` (`user_id_larger`,`user_id_smaller`),
  UNIQUE KEY `group_id_unique_index` (`group_id`),
  KEY `user_id_smaller_index` (`user_id_smaller`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

query nosort
select count(*) from users
----
0

statement ok
INSERT INTO users
  (api_content_provider_name , last_session , encrypted_phone , grade , signed_up , is_deleted , phone , signup_date , updated_at , bio , picture , id , created_at , ip_address , profile_background , last_login , opted_in_for_sms_to_contacts , organization_id , api_content_provider_id , username , school_id , first , password , iso_code , permissions , granted_contacts , birthday , gender , hex_color , email , granted_notifs , role_id , `key` , avatar , latitude , timezone , app_download_token , location_hidden , code , school_type , is_older_than_thirteen , last , is_verified , longitude , encrypted_email , is_public)
VALUES
  ('1' , '2020-01-01 12:30:45' , 'a' , 1 , 1 , 1 , '1' , '2020-01-01 12:30:45' , '2020-01-01 12:30:45' , 'a' , 'a' , 1 , '2020-01-01 12:30:45' , 'a' , 'a' , '2020-01-01 12:30:45' , 1 , 1 , '1' , '1' , 1 , 'a' , 'a' , 'a' , '{}' , 1 , '2020-01-01 00:00:00' , 'a' , 'a' , '1' , 1 , 1 , '1' , 'a' , 1.5 , 'a' , '1' , 1 , 'a' , 'a' , 1 , 'a' , 1 , 1.5 , 'a' , 1),
  ('2' , '2020-01-01 12:30:45' , 'a' , 1 , 1 , 1 , '2' , '2020-01-01 12:30:45' , '2020-01-01 12:30:45' , 'a' , 'a' , 2 , '2020-01-01 12:30:45' , 'a' , 'a' , '2020-01-01 12:30:45' , 1 , 1 , '2' , '2' , 1 , 'a' , 'a' , 'a' , '{}' , 1 , '2020-01-01 00:00:00' , 'a' , 'a' , '2' , 1 , 1 , '2' , 'a' , 1.5 , 'a' , '2' , 1 , 'a' , 'a' , 1 , 'a' , 1 , 1.5 , 'a' , 1),
  ('3' , '2020-01-01 12:30:45' , 'a' , 1 , 1 , 1 , '3' , '2020-01-01 12:30:45' , '2020-01-01 12:30:45' , 'a' , 'a' , 3 , '2020-01-01 12:30:45' , 'a' , 'a' , '2020-01-01 12:30:45' , 1 , 1 , '3' , '3' , 1 , 'a' , 'a' , 'a' , '{}' , 1 , '2020-01-01 00:00:00' , 'a' , 'a' , '3' , 1 , 1 , '3' , 'a' , 1.5 , 'a' , '3' , 1 , 'a' , 'a' , 1 , 'a' , 1 , 1.5 , 'a' , 1),
  ('4' , '2020-01-01 12:30:45' , 'a' , 1 , 1 , 1 , '4' , '2020-01-01 12:30:45' , '2020-01-01 12:30:45' , 'a' , 'a' , 4 , '2020-01-01 12:30:45' , 'a' , 'a' , '2020-01-01 12:30:45' , 1 , 1 , '4' , '4' , 1 , 'a' , 'a' , 'a' , '{}' , 1 , '2020-01-01 00:00:00' , 'a' , 'a' , '4' , 1 , 1 , '4' , 'a' , 1.5 , 'a' , '4' , 1 , 'a' , 'a' , 1 , 'a' , 1 , 1.5 , 'a' , 1),
  ('5' , '2020-01-01 12:30:45' , 'a' , 1 , 1 , 1 , '5' , '2020-01-01 12:30:45' , '2020-01-01 12:30:45' , 'a' , 'a' , 5 , '2020-01-01 12:30:45' , 'a' , 'a' , '2020-01-01 12:30:45' , 1 , 1 , '5' , '5' , 1 , 'a' , 'a' , 'a' , '{}' , 1 , '2020-01-01 00:00:00' , 'a' , 'a' , '5' , 1 , 1 , '5' , 'a' , 1.5 , 'a' , '5' , 1 , 'a' , 'a' , 1 , 'a' , 1 , 1.5 , 'a' , 1)

statement ok
INSERT INTO users_friends
  (is_subscribed, friend_id, friend_dismissed_friend_prompt, ignored, requested, is_deleted, updated_at, is_followed_from_contacts, user_id, friend_request_sent_at, is_close_friend, created_at, seen_close_friend, muted, request_denied, reminder_notif_sent_at, id, blocked)
VALUES
  (1, 1, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 1, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 1, 1),
  (1, 2, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 2, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 2, 1),
  (1, 3, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 3, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 3, 1),
  (1, 4, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 4, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 4, 1),
  (1, 5, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 5, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 5, 1),
  (1, 6, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 6, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 6, 1),
  (1, 7, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 7, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 7, 1),
  (1, 8, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 8, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 8, 1),
  (1, 9, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 9, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 9, 1),
  (1, 10, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 10, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 10, 1),
  (1, 11, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 11, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 11, 1),
  (1, 12, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 12, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 12, 1),
  (1, 13, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 13, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 13, 1),
  (1, 14, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 14, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 14, 1),
  (1, 15, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 15, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 15, 1),
  (1, 16, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 16, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 16, 1),
  (1, 17, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 17, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 17, 1),
  (1, 18, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 18, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 18, 1),
  (1, 19, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 19, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 19, 1),
  (1, 20, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 20, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 20, 1),
  (1, 21, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 21, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 21, 1),
  (1, 22, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 22, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 22, 1),
  (1, 23, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 23, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 23, 1),
  (1, 24, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 24, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 24, 1),
  (1, 25, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 25, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 25, 1),
  (1, 26, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 26, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 26, 1),
  (1, 27, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 27, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 27, 1),
  (1, 28, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 28, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 28, 1),
  (1, 29, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 29, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 29, 1),
  (1, 30, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 30, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 30, 1),
  (1, 31, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 31, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 31, 1),
  (1, 32, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 32, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 32, 1),
  (1, 33, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 33, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 33, 1),
  (1, 34, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 34, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 34, 1),
  (1, 35, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 35, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 35, 1),
  (1, 36, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 36, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 36, 1),
  (1, 37, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 37, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 37, 1),
  (1, 38, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 38, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 38, 1),
  (1, 39, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 39, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 39, 1),
  (1, 40, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 40, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 40, 1),
  (1, 41, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 41, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 41, 1),
  (1, 42, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 42, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 42, 1),
  (1, 43, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 43, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 43, 1),
  (1, 44, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 44, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 44, 1),
  (1, 45, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 45, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 45, 1),
  (1, 46, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 46, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 46, 1),
  (1, 47, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 47, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 47, 1),
  (1, 48, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 48, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 48, 1),
  (1, 49, 1, 1, 1, 1, '2020-01-01 12:30:45', 1, 49, '2020-01-01 12:30:45', 1, '2020-01-01 12:30:45', 1, 1, 1, '2020-01-01 12:30:45', 49, 1)

statement ok
INSERT INTO users_groups
  (is_seen, inviter_id, group_id, denied_at, mute_until, last_opened_at, id, user_id, pending, is_requested, deleted_at, updated_at, chat_tab_updated_at, joined_at, created_at)
VALUES
  (1, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 1, 1, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 2, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 2, 2, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 3, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 3, 3, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 4, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 4, 4, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 5, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 5, 5, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 6, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 6, 6, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 7, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 7, 7, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 8, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 8, 8, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 9, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 9, 9, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 10, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 10, 10, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 11, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 11, 11, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 12, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 12, 12, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 13, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 13, 13, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 14, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 14, 14, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 15, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 15, 15, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 16, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 16, 16, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 17, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 17, 17, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 18, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 18, 18, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 19, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 19, 19, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 20, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 20, 20, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 21, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 21, 21, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 22, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 22, 22, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 23, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 23, 23, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 24, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 24, 24, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 25, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 25, 25, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 26, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 26, 26, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 27, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 27, 27, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 28, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 28, 28, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 29, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 29, 29, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 30, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 30, 30, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 31, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 31, 31, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 32, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 32, 32, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 33, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 33, 33, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 34, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 34, 34, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 35, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 35, 35, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 36, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 36, 36, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 37, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 37, 37, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 38, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 38, 38, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 39, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 39, 39, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 40, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 40, 40, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 41, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 41, 41, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 42, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 42, 42, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 43, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 43, 43, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 44, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 44, 44, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 45, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 45, 45, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 46, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 46, 46, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 47, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 47, 47, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 48, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 48, 48, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45'),
  (1, 1, 49, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', 49, 49, 1, 1, '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45', '2020-01-01 12:30:45')

statement ok
INSERT INTO `groups`
  (can_send_invites, chat_images_disabled_for_members, other_user_id, is_restricted, user_id, organization_id, name, suggested_group_id, is_public, created_at, `key`, deleted_at, longitude, is_paid, chat_tab_updated_at, description, add_all_org_members, updated_at, latitude, address, chat_polls_disabled_for_members, is_request_to_join, is_official_for_org, is_approved_for_explore, is_name_auto_generated, id, image, chat_messages_disabled_for_members)
VALUES
  (1, 1, 1, 1, 1, 1, 'a', 1, 1, '2020-01-01 12:30:45', '1', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 1, 'a', 1),
  (1, 1, 2, 1, 2, 1, 'a', 1, 1, '2020-01-01 12:30:45', '2', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 2, 'a', 1),
  (1, 1, 3, 1, 3, 1, 'a', 1, 1, '2020-01-01 12:30:45', '3', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 3, 'a', 1),
  (1, 1, 4, 1, 4, 1, 'a', 1, 1, '2020-01-01 12:30:45', '4', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 4, 'a', 1),
  (1, 1, 5, 1, 5, 1, 'a', 1, 1, '2020-01-01 12:30:45', '5', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 5, 'a', 1),
  (1, 1, 6, 1, 6, 1, 'a', 1, 1, '2020-01-01 12:30:45', '6', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 6, 'a', 1),
  (1, 1, 7, 1, 7, 1, 'a', 1, 1, '2020-01-01 12:30:45', '7', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 7, 'a', 1),
  (1, 1, 8, 1, 8, 1, 'a', 1, 1, '2020-01-01 12:30:45', '8', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 8, 'a', 1),
  (1, 1, 9, 1, 9, 1, 'a', 1, 1, '2020-01-01 12:30:45', '9', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 9, 'a', 1),
  (1, 1, 10, 1, 10, 1, 'a', 1, 1, '2020-01-01 12:30:45', '10', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 10, 'a', 1),
  (1, 1, 11, 1, 11, 1, 'a', 1, 1, '2020-01-01 12:30:45', '11', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 11, 'a', 1),
  (1, 1, 12, 1, 12, 1, 'a', 1, 1, '2020-01-01 12:30:45', '12', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 12, 'a', 1),
  (1, 1, 13, 1, 13, 1, 'a', 1, 1, '2020-01-01 12:30:45', '13', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 13, 'a', 1),
  (1, 1, 14, 1, 14, 1, 'a', 1, 1, '2020-01-01 12:30:45', '14', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 14, 'a', 1),
  (1, 1, 15, 1, 15, 1, 'a', 1, 1, '2020-01-01 12:30:45', '15', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 15, 'a', 1),
  (1, 1, 16, 1, 16, 1, 'a', 1, 1, '2020-01-01 12:30:45', '16', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 16, 'a', 1),
  (1, 1, 17, 1, 17, 1, 'a', 1, 1, '2020-01-01 12:30:45', '17', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 17, 'a', 1),
  (1, 1, 18, 1, 18, 1, 'a', 1, 1, '2020-01-01 12:30:45', '18', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 18, 'a', 1),
  (1, 1, 19, 1, 19, 1, 'a', 1, 1, '2020-01-01 12:30:45', '19', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 19, 'a', 1),
  (1, 1, 20, 1, 20, 1, 'a', 1, 1, '2020-01-01 12:30:45', '20', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 20, 'a', 1),
  (1, 1, 21, 1, 21, 1, 'a', 1, 1, '2020-01-01 12:30:45', '21', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 21, 'a', 1),
  (1, 1, 22, 1, 22, 1, 'a', 1, 1, '2020-01-01 12:30:45', '22', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 22, 'a', 1),
  (1, 1, 23, 1, 23, 1, 'a', 1, 1, '2020-01-01 12:30:45', '23', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 23, 'a', 1),
  (1, 1, 24, 1, 24, 1, 'a', 1, 1, '2020-01-01 12:30:45', '24', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 24, 'a', 1),
  (1, 1, 25, 1, 25, 1, 'a', 1, 1, '2020-01-01 12:30:45', '25', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 25, 'a', 1),
  (1, 1, 26, 1, 26, 1, 'a', 1, 1, '2020-01-01 12:30:45', '26', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 26, 'a', 1),
  (1, 1, 27, 1, 27, 1, 'a', 1, 1, '2020-01-01 12:30:45', '27', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 27, 'a', 1),
  (1, 1, 28, 1, 28, 1, 'a', 1, 1, '2020-01-01 12:30:45', '28', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 28, 'a', 1),
  (1, 1, 29, 1, 29, 1, 'a', 1, 1, '2020-01-01 12:30:45', '29', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 29, 'a', 1),
  (1, 1, 30, 1, 30, 1, 'a', 1, 1, '2020-01-01 12:30:45', '30', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 30, 'a', 1),
  (1, 1, 31, 1, 31, 1, 'a', 1, 1, '2020-01-01 12:30:45', '31', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 31, 'a', 1),
  (1, 1, 32, 1, 32, 1, 'a', 1, 1, '2020-01-01 12:30:45', '32', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 32, 'a', 1),
  (1, 1, 33, 1, 33, 1, 'a', 1, 1, '2020-01-01 12:30:45', '33', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 33, 'a', 1),
  (1, 1, 34, 1, 34, 1, 'a', 1, 1, '2020-01-01 12:30:45', '34', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 34, 'a', 1),
  (1, 1, 35, 1, 35, 1, 'a', 1, 1, '2020-01-01 12:30:45', '35', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 35, 'a', 1),
  (1, 1, 36, 1, 36, 1, 'a', 1, 1, '2020-01-01 12:30:45', '36', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 36, 'a', 1),
  (1, 1, 37, 1, 37, 1, 'a', 1, 1, '2020-01-01 12:30:45', '37', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 37, 'a', 1),
  (1, 1, 38, 1, 38, 1, 'a', 1, 1, '2020-01-01 12:30:45', '38', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 38, 'a', 1),
  (1, 1, 39, 1, 39, 1, 'a', 1, 1, '2020-01-01 12:30:45', '39', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 39, 'a', 1),
  (1, 1, 40, 1, 40, 1, 'a', 1, 1, '2020-01-01 12:30:45', '40', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 40, 'a', 1),
  (1, 1, 41, 1, 41, 1, 'a', 1, 1, '2020-01-01 12:30:45', '41', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 41, 'a', 1),
  (1, 1, 42, 1, 42, 1, 'a', 1, 1, '2020-01-01 12:30:45', '42', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 42, 'a', 1),
  (1, 1, 43, 1, 43, 1, 'a', 1, 1, '2020-01-01 12:30:45', '43', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 43, 'a', 1),
  (1, 1, 44, 1, 44, 1, 'a', 1, 1, '2020-01-01 12:30:45', '44', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 44, 'a', 1),
  (1, 1, 45, 1, 45, 1, 'a', 1, 1, '2020-01-01 12:30:45', '45', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 45, 'a', 1),
  (1, 1, 46, 1, 46, 1, 'a', 1, 1, '2020-01-01 12:30:45', '46', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 46, 'a', 1),
  (1, 1, 47, 1, 47, 1, 'a', 1, 1, '2020-01-01 12:30:45', '47', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 47, 'a', 1),
  (1, 1, 48, 1, 48, 1, 'a', 1, 1, '2020-01-01 12:30:45', '48', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 48, 'a', 1),
  (1, 1, 49, 1, 49, 1, 'a', 1, 1, '2020-01-01 12:30:45', '49', '2020-01-01 12:30:45', 1.5, 1, '2020-01-01 12:30:45', 'a', 1, '2020-01-01 12:30:45', 1.5, 'a', 1, 1, 1, 1, 1, 49, 'a', 1)


statement ok
INSERT INTO mutual_follow_groups
  (user_id_larger, group_id, updated_at, id, user_id_smaller, created_at)
VALUES
  (1, 1, '2020-01-01 12:30:45', 1, 1, '2020-01-01 12:30:45'),
  (2, 2, '2020-01-01 12:30:45', 2, 2, '2020-01-01 12:30:45'),
  (3, 3, '2020-01-01 12:30:45', 3, 3, '2020-01-01 12:30:45'),
  (4, 4, '2020-01-01 12:30:45', 4, 4, '2020-01-01 12:30:45'),
  (5, 5, '2020-01-01 12:30:45', 5, 5, '2020-01-01 12:30:45'),
  (6, 6, '2020-01-01 12:30:45', 6, 6, '2020-01-01 12:30:45'),
  (7, 7, '2020-01-01 12:30:45', 7, 7, '2020-01-01 12:30:45'),
  (8, 8, '2020-01-01 12:30:45', 8, 8, '2020-01-01 12:30:45'),
  (9, 9, '2020-01-01 12:30:45', 9, 9, '2020-01-01 12:30:45'),
  (10, 10, '2020-01-01 12:30:45', 10, 10, '2020-01-01 12:30:45'),
  (11, 11, '2020-01-01 12:30:45', 11, 11, '2020-01-01 12:30:45'),
  (12, 12, '2020-01-01 12:30:45', 12, 12, '2020-01-01 12:30:45'),
  (13, 13, '2020-01-01 12:30:45', 13, 13, '2020-01-01 12:30:45'),
  (14, 14, '2020-01-01 12:30:45', 14, 14, '2020-01-01 12:30:45'),
  (15, 15, '2020-01-01 12:30:45', 15, 15, '2020-01-01 12:30:45'),
  (16, 16, '2020-01-01 12:30:45', 16, 16, '2020-01-01 12:30:45'),
  (17, 17, '2020-01-01 12:30:45', 17, 17, '2020-01-01 12:30:45'),
  (18, 18, '2020-01-01 12:30:45', 18, 18, '2020-01-01 12:30:45'),
  (19, 19, '2020-01-01 12:30:45', 19, 19, '2020-01-01 12:30:45'),
  (20, 20, '2020-01-01 12:30:45', 20, 20, '2020-01-01 12:30:45'),
  (21, 21, '2020-01-01 12:30:45', 21, 21, '2020-01-01 12:30:45'),
  (22, 22, '2020-01-01 12:30:45', 22, 22, '2020-01-01 12:30:45'),
  (23, 23, '2020-01-01 12:30:45', 23, 23, '2020-01-01 12:30:45'),
  (24, 24, '2020-01-01 12:30:45', 24, 24, '2020-01-01 12:30:45'),
  (25, 25, '2020-01-01 12:30:45', 25, 25, '2020-01-01 12:30:45'),
  (26, 26, '2020-01-01 12:30:45', 26, 26, '2020-01-01 12:30:45'),
  (27, 27, '2020-01-01 12:30:45', 27, 27, '2020-01-01 12:30:45'),
  (28, 28, '2020-01-01 12:30:45', 28, 28, '2020-01-01 12:30:45'),
  (29, 29, '2020-01-01 12:30:45', 29, 29, '2020-01-01 12:30:45'),
  (30, 30, '2020-01-01 12:30:45', 30, 30, '2020-01-01 12:30:45'),
  (31, 31, '2020-01-01 12:30:45', 31, 31, '2020-01-01 12:30:45'),
  (32, 32, '2020-01-01 12:30:45', 32, 32, '2020-01-01 12:30:45'),
  (33, 33, '2020-01-01 12:30:45', 33, 33, '2020-01-01 12:30:45'),
  (34, 34, '2020-01-01 12:30:45', 34, 34, '2020-01-01 12:30:45'),
  (35, 35, '2020-01-01 12:30:45', 35, 35, '2020-01-01 12:30:45'),
  (36, 36, '2020-01-01 12:30:45', 36, 36, '2020-01-01 12:30:45'),
  (37, 37, '2020-01-01 12:30:45', 37, 37, '2020-01-01 12:30:45'),
  (38, 38, '2020-01-01 12:30:45', 38, 38, '2020-01-01 12:30:45'),
  (39, 39, '2020-01-01 12:30:45', 39, 39, '2020-01-01 12:30:45'),
  (40, 40, '2020-01-01 12:30:45', 40, 40, '2020-01-01 12:30:45'),
  (41, 41, '2020-01-01 12:30:45', 41, 41, '2020-01-01 12:30:45'),
  (42, 42, '2020-01-01 12:30:45', 42, 42, '2020-01-01 12:30:45'),
  (43, 43, '2020-01-01 12:30:45', 43, 43, '2020-01-01 12:30:45'),
  (44, 44, '2020-01-01 12:30:45', 44, 44, '2020-01-01 12:30:45'),
  (45, 45, '2020-01-01 12:30:45', 45, 45, '2020-01-01 12:30:45'),
  (46, 46, '2020-01-01 12:30:45', 46, 46, '2020-01-01 12:30:45'),
  (47, 47, '2020-01-01 12:30:45', 47, 47, '2020-01-01 12:30:45'),
  (48, 48, '2020-01-01 12:30:45', 48, 48, '2020-01-01 12:30:45'),
  (49, 49, '2020-01-01 12:30:45', 49, 49, '2020-01-01 12:30:45')

query nosort
select `friend_id` from `users_friends` where `user_id` = ? and `ignored` = ?
? = 1
? = 1
----
1

query nosort
select
    `users`.id,
    users_friends.is_deleted,
    `users_friends`.`user_id` as `pivot_user_id`,
    `users_friends`.`friend_id` as `pivot_friend_id`,
    `users_friends`.`is_deleted` as `pivot_is_deleted`,
    `users_friends`.`blocked` as `pivot_blocked`,
    `users_friends`.`ignored` as `pivot_ignored`,
    `users_friends`.`requested` as `pivot_requested`,
    `users_friends`.`request_denied` as `pivot_request_denied`,
    `users_friends`.`created_at` as `pivot_created_at`,
    `users_friends`.`updated_at` as `pivot_updated_at`
from `users`
inner join `users_friends` on `users`.`id` = `users_friends`.`friend_id`
where `users_friends`.`user_id` = ?
and `users_friends`.`is_deleted` = ?
and `blocked` = ?
and `ignored` = ?
and `request_denied` = ?
and `requested` = ?
? = 1
? = 1
? = 1
? = 1
? = 1
? = 1
----
1
1
1
1
1
1
1
1
1
2020-01-01 12:30:45
2020-01-01 12:30:45

# Some updates and deletes adjusting the seed data so later queries actually
# return results

statement ok
delete from mutual_follow_groups where id = 1;

statement ok
update `groups` set `deleted_at` = null where id = 1;

statement ok
update `users_groups` set `deleted_at` = null, `denied_at` = null where id = 1;

query nosort
select `suggested_group_id`
from `groups`
inner join `users_groups` on `groups`.`id` = `users_groups`.`group_id`
left join `mutual_follow_groups` on `groups`.`id` = `mutual_follow_groups`.`group_id`
where `users_groups`.`user_id` = ?
and `mutual_follow_groups`.`group_id` is null
and `groups`.`deleted_at` is null
and `users_groups`.`deleted_at` is null
and `pending` = ?
and `denied_at` is null
and `is_requested` = ?
and `users_groups`.`deleted_at` is null
and `suggested_group_id` is not null
? = 1
? = 1
? = 1
----
1

query nosort
select
    `groups`.id,
    `users_groups`.`user_id` as `pivot_user_id`,
    `users_groups`.`group_id` as `pivot_group_id`,
    `users_groups`.`chat_tab_updated_at` as `pivot_chat_tab_updated_at`,
    `users_groups`.`is_seen` as `pivot_is_seen`,
    `users_groups`.`inviter_id` as `pivot_inviter_id`,
    `users_groups`.`id` as `pivot_id`,
    `users_groups`.`pending` as `pivot_pending`,
    `users_groups`.`denied_at` as `pivot_denied_at`,
    `users_groups`.`created_at` as `pivot_created_at`,
    `users_groups`.`updated_at` as `pivot_updated_at`
from `groups`
inner join `users_groups` on `groups`.`id` = `users_groups`.`group_id`
left join `mutual_follow_groups` on `groups`.`id` = `mutual_follow_groups`.`group_id`
where `users_groups`.`user_id` = ?
and `mutual_follow_groups`.`group_id` is null
and `groups`.`deleted_at` is null
and `users_groups`.`deleted_at` is null
? = 1
----
1
1
1
2020-01-01 12:30:45
1
1
1
1
NULL
2020-01-01 12:30:45
2020-01-01 12:30:45

query nosort
select
    `groups`.id,
    `users_groups`.`user_id` as `pivot_user_id`,
    `users_groups`.`group_id` as `pivot_group_id`,
    `users_groups`.`chat_tab_updated_at` as `pivot_chat_tab_updated_at`,
    `users_groups`.`is_seen` as `pivot_is_seen`,
    `users_groups`.`inviter_id` as `pivot_inviter_id`,
    `users_groups`.`id` as `pivot_id`,
    `users_groups`.`pending` as `pivot_pending`,
    `users_groups`.`denied_at` as `pivot_denied_at`,
    `users_groups`.`created_at` as `pivot_created_at`,
    `users_groups`.`updated_at` as `pivot_updated_at`
from `groups`
inner join `users_groups` on `groups`.`id` = `users_groups`.`group_id`
left join `mutual_follow_groups` on `groups`.`id` = `mutual_follow_groups`.`group_id`
where `users_groups`.`user_id` = ?
and `mutual_follow_groups`.`group_id` is null and `groups`.`deleted_at` is null and `users_groups`.`deleted_at` is null and 1 = 1
? = 1
----
1
1
1
2020-01-01 12:30:45
1
1
1
1
NULL
2020-01-01 12:30:45
2020-01-01 12:30:45
