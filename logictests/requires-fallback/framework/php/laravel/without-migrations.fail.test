
query  rowsort
SET foreign_key_checks = 0
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `access_tokens` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `token` varchar(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int unsigned NOT NULL,
  `last_activity_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `title` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_ip_address` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_user_agent` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `access_tokens_token_unique` (`token`),
  KEY `access_tokens_user_id_foreign` (`user_id`),
  KEY `access_tokens_type_index` (`type`),
  CONSTRAINT `access_tokens_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `api_keys` (
  `key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `allowed_ips` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `scopes` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `user_id` int unsigned DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `last_activity_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `api_keys_key_unique` (`key`),
  KEY `api_keys_user_id_foreign` (`user_id`),
  CONSTRAINT `api_keys_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `discussion_tag` (
  `discussion_id` int unsigned NOT NULL,
  `tag_id` int unsigned NOT NULL,
  PRIMARY KEY (`discussion_id`,`tag_id`),
  KEY `discussion_tag_tag_id_foreign` (`tag_id`),
  CONSTRAINT `discussion_tag_discussion_id_foreign` FOREIGN KEY (`discussion_id`) REFERENCES `discussions` (`id`) ON DELETE CASCADE,
  CONSTRAINT `discussion_tag_tag_id_foreign` FOREIGN KEY (`tag_id`) REFERENCES `tags` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `discussion_user` (
  `user_id` int unsigned NOT NULL,
  `discussion_id` int unsigned NOT NULL,
  `last_read_at` datetime DEFAULT NULL,
  `last_read_post_number` int unsigned DEFAULT NULL,
  `subscription` enum('follow','ignore') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`user_id`,`discussion_id`),
  KEY `discussion_user_discussion_id_foreign` (`discussion_id`),
  CONSTRAINT `discussion_user_discussion_id_foreign` FOREIGN KEY (`discussion_id`) REFERENCES `discussions` (`id`) ON DELETE CASCADE,
  CONSTRAINT `discussion_user_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `discussions` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `comment_count` int NOT NULL DEFAULT '1',
  `participant_count` int unsigned NOT NULL DEFAULT '0',
  `post_number_index` int unsigned NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL,
  `user_id` int unsigned DEFAULT NULL,
  `first_post_id` int unsigned DEFAULT NULL,
  `last_posted_at` datetime DEFAULT NULL,
  `last_posted_user_id` int unsigned DEFAULT NULL,
  `last_post_id` int unsigned DEFAULT NULL,
  `last_post_number` int unsigned DEFAULT NULL,
  `hidden_at` datetime DEFAULT NULL,
  `hidden_user_id` int unsigned DEFAULT NULL,
  `slug` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `is_private` tinyint(1) NOT NULL DEFAULT '0',
  `is_approved` tinyint(1) NOT NULL DEFAULT '1',
  `is_locked` tinyint(1) NOT NULL DEFAULT '0',
  `is_sticky` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `discussions_hidden_user_id_foreign` (`hidden_user_id`),
  KEY `discussions_first_post_id_foreign` (`first_post_id`),
  KEY `discussions_last_post_id_foreign` (`last_post_id`),
  KEY `discussions_last_posted_at_index` (`last_posted_at`),
  KEY `discussions_last_posted_user_id_index` (`last_posted_user_id`),
  KEY `discussions_created_at_index` (`created_at`),
  KEY `discussions_user_id_index` (`user_id`),
  KEY `discussions_comment_count_index` (`comment_count`),
  KEY `discussions_participant_count_index` (`participant_count`),
  KEY `discussions_hidden_at_index` (`hidden_at`),
  KEY `discussions_is_locked_index` (`is_locked`),
  KEY `discussions_is_sticky_created_at_index` (`is_sticky`,`created_at`),
  KEY `discussions_is_sticky_last_posted_at_index` (`is_sticky`,`last_posted_at`),
  FULLTEXT KEY `title` (`title`),
  CONSTRAINT `discussions_first_post_id_foreign` FOREIGN KEY (`first_post_id`) REFERENCES `posts` (`id`) ON DELETE SET NULL,
  CONSTRAINT `discussions_hidden_user_id_foreign` FOREIGN KEY (`hidden_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL,
  CONSTRAINT `discussions_last_post_id_foreign` FOREIGN KEY (`last_post_id`) REFERENCES `posts` (`id`) ON DELETE SET NULL,
  CONSTRAINT `discussions_last_posted_user_id_foreign` FOREIGN KEY (`last_posted_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL,
  CONSTRAINT `discussions_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `email_tokens` (
  `token` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`token`),
  KEY `email_tokens_user_id_foreign` (`user_id`),
  CONSTRAINT `email_tokens_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `flags` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `post_id` int unsigned NOT NULL,
  `type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int unsigned DEFAULT NULL,
  `reason` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reason_detail` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `flags_post_id_foreign` (`post_id`),
  KEY `flags_user_id_foreign` (`user_id`),
  KEY `flags_created_at_index` (`created_at`),
  CONSTRAINT `flags_post_id_foreign` FOREIGN KEY (`post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE,
  CONSTRAINT `flags_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `group_permission` (
  `group_id` int unsigned NOT NULL,
  `permission` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`group_id`,`permission`),
  CONSTRAINT `group_permission_group_id_foreign` FOREIGN KEY (`group_id`) REFERENCES `groups` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `group_permission` VALUES (2,'viewForum'),(3,'discussion.flagPosts'),(3,'discussion.likePosts'),(3,'discussion.reply'),(3,'discussion.replyWithoutApproval'),(3,'discussion.startWithoutApproval'),(3,'searchUsers'),(3,'startDiscussion'),(4,'discussion.approvePosts'),(4,'discussion.editPosts'),(4,'discussion.hide'),(4,'discussion.hidePosts'),(4,'discussion.lock'),(4,'discussion.rename'),(4,'discussion.sticky'),(4,'discussion.tag'),(4,'discussion.viewFlags'),(4,'discussion.viewIpsPosts'),(4,'user.suspend'),(4,'user.viewLastSeenAt')
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `group_user` (
  `user_id` int unsigned NOT NULL,
  `group_id` int unsigned NOT NULL,
  PRIMARY KEY (`user_id`,`group_id`),
  KEY `group_user_group_id_foreign` (`group_id`),
  CONSTRAINT `group_user_group_id_foreign` FOREIGN KEY (`group_id`) REFERENCES `groups` (`id`) ON DELETE CASCADE,
  CONSTRAINT `group_user_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `group_user` VALUES (1,1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `groups` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name_singular` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `name_plural` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `color` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `icon` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_hidden` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `groups` VALUES (1,'Admin','Admins','#B72A2A','fas fa-wrench',0),(2,'Guest','Guests',NULL,NULL,0),(3,'Member','Members',NULL,NULL,0),(4,'Mod','Mods','#80349E','fas fa-bolt',0)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `login_providers` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int unsigned NOT NULL,
  `provider` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `identifier` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `last_login_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `login_providers_provider_identifier_unique` (`provider`,`identifier`),
  KEY `login_providers_user_id_foreign` (`user_id`),
  CONSTRAINT `login_providers_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `migrations` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `migration` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `extension` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=126 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `migrations` VALUES (1,'2015_02_24_000000_create_access_tokens_table',NULL),(2,'2015_02_24_000000_create_api_keys_table',NULL),(3,'2015_02_24_000000_create_config_table',NULL),(4,'2015_02_24_000000_create_discussions_table',NULL),(5,'2015_02_24_000000_create_email_tokens_table',NULL),(6,'2015_02_24_000000_create_groups_table',NULL),(7,'2015_02_24_000000_create_notifications_table',NULL),(8,'2015_02_24_000000_create_password_tokens_table',NULL),(9,'2015_02_24_000000_create_permissions_table',NULL),(10,'2015_02_24_000000_create_posts_table',NULL),(11,'2015_02_24_000000_create_users_discussions_table',NULL),(12,'2015_02_24_000000_create_users_groups_table',NULL),(13,'2015_02_24_000000_create_users_table',NULL),(14,'2015_09_15_000000_create_auth_tokens_table',NULL),(15,'2015_09_20_224327_add_hide_to_discussions',NULL),(16,'2015_09_22_030432_rename_notification_read_time',NULL),(17,'2015_10_07_130531_rename_config_to_settings',NULL),(18,'2015_10_24_194000_add_ip_address_to_posts',NULL),(19,'2015_12_05_042721_change_access_tokens_columns',NULL),(20,'2015_12_17_194247_change_settings_value_column_to_text',NULL),(21,'2016_02_04_095452_add_slug_to_discussions',NULL),(22,'2017_04_07_114138_add_is_private_to_discussions',NULL),(23,'2017_04_07_114138_add_is_private_to_posts',NULL),(24,'2018_01_11_093900_change_access_tokens_columns',NULL),(25,'2018_01_11_094000_change_access_tokens_add_foreign_keys',NULL),(26,'2018_01_11_095000_change_api_keys_columns',NULL),(27,'2018_01_11_101800_rename_auth_tokens_to_registration_tokens',NULL),(28,'2018_01_11_102000_change_registration_tokens_rename_id_to_token',NULL),(29,'2018_01_11_102100_change_registration_tokens_created_at_to_datetime',NULL),(30,'2018_01_11_120604_change_posts_table_to_innodb',NULL),(31,'2018_01_11_155200_change_discussions_rename_columns',NULL),(32,'2018_01_11_155300_change_discussions_add_foreign_keys',NULL),(33,'2018_01_15_071700_rename_users_discussions_to_discussion_user',NULL),(34,'2018_01_15_071800_change_discussion_user_rename_columns',NULL),(35,'2018_01_15_071900_change_discussion_user_add_foreign_keys',NULL),(36,'2018_01_15_072600_change_email_tokens_rename_id_to_token',NULL),(37,'2018_01_15_072700_change_email_tokens_add_foreign_keys',NULL),(38,'2018_01_15_072800_change_email_tokens_created_at_to_datetime',NULL),(39,'2018_01_18_130400_rename_permissions_to_group_permission',NULL),(40,'2018_01_18_130500_change_group_permission_add_foreign_keys',NULL),(41,'2018_01_18_130600_rename_users_groups_to_group_user',NULL),(42,'2018_01_18_130700_change_group_user_add_foreign_keys',NULL),(43,'2018_01_18_133000_change_notifications_columns',NULL),(44,'2018_01_18_133100_change_notifications_add_foreign_keys',NULL),(45,'2018_01_18_134400_change_password_tokens_rename_id_to_token',NULL),(46,'2018_01_18_134500_change_password_tokens_add_foreign_keys',NULL),(47,'2018_01_18_134600_change_password_tokens_created_at_to_datetime',NULL),(48,'2018_01_18_135000_change_posts_rename_columns',NULL),(49,'2018_01_18_135100_change_posts_add_foreign_keys',NULL),(50,'2018_01_30_112238_add_fulltext_index_to_discussions_title',NULL),(51,'2018_01_30_220100_create_post_user_table',NULL),(52,'2018_01_30_222900_change_users_rename_columns',NULL),(55,'2018_09_15_041340_add_users_indicies',NULL),(56,'2018_09_15_041828_add_discussions_indicies',NULL),(57,'2018_09_15_043337_add_notifications_indices',NULL),(58,'2018_09_15_043621_add_posts_indices',NULL),(59,'2018_09_22_004100_change_registration_tokens_columns',NULL),(60,'2018_09_22_004200_create_login_providers_table',NULL),(61,'2018_10_08_144700_add_shim_prefix_to_group_icons',NULL),(62,'2019_10_12_195349_change_posts_add_discussion_foreign_key',NULL),(63,'2020_03_19_134512_change_discussions_default_comment_count',NULL),(64,'2020_04_21_130500_change_permission_groups_add_is_hidden',NULL),(65,'2021_03_02_040000_change_access_tokens_add_type',NULL),(66,'2021_03_02_040500_change_access_tokens_add_id',NULL),(67,'2021_03_02_041000_change_access_tokens_add_title_ip_agent',NULL),(68,'2021_04_18_040500_change_migrations_add_id_primary_key',NULL),(69,'2021_04_18_145100_change_posts_content_column_to_mediumtext',NULL),(70,'2018_07_21_000000_seed_default_groups',NULL),(71,'2018_07_21_000100_seed_default_group_permissions',NULL),(72,'2021_05_10_000000_rename_permissions',NULL),(73,'2015_09_21_011527_add_is_approved_to_discussions','flarum-approval'),(74,'2015_09_21_011706_add_is_approved_to_posts','flarum-approval'),(75,'2017_07_22_000000_add_default_permissions','flarum-approval'),(76,'2018_09_29_060444_replace_emoji_shorcuts_with_unicode','flarum-emoji'),(77,'2015_09_02_000000_add_flags_read_time_to_users_table','flarum-flags'),(78,'2015_09_02_000000_create_flags_table','flarum-flags'),(79,'2017_07_22_000000_add_default_permissions','flarum-flags'),(80,'2018_06_27_101500_change_flags_rename_time_to_created_at','flarum-flags'),(81,'2018_06_27_101600_change_flags_add_foreign_keys','flarum-flags'),(82,'2018_06_27_105100_change_users_rename_flags_read_time_to_read_flags_at','flarum-flags'),(83,'2018_09_15_043621_add_flags_indices','flarum-flags'),(84,'2019_10_22_000000_change_reason_text_col_type','flarum-flags'),(85,'2015_05_11_000000_create_posts_likes_table','flarum-likes'),(86,'2015_09_04_000000_add_default_like_permissions','flarum-likes'),(87,'2018_06_27_100600_rename_posts_likes_to_post_likes','flarum-likes'),(88,'2018_06_27_100700_change_post_likes_add_foreign_keys','flarum-likes'),(89,'2021_05_10_094200_add_created_at_to_post_likes_table','flarum-likes'),(90,'2015_02_24_000000_add_locked_to_discussions','flarum-lock'),(91,'2017_07_22_000000_add_default_permissions','flarum-lock'),(92,'2018_09_15_043621_add_discussions_indices','flarum-lock'),(93,'2021_03_25_000000_default_settings','flarum-markdown'),(94,'2015_05_11_000000_create_mentions_posts_table','flarum-mentions'),(95,'2015_05_11_000000_create_mentions_users_table','flarum-mentions'),(96,'2018_06_27_102000_rename_mentions_posts_to_post_mentions_post','flarum-mentions'),(97,'2018_06_27_102100_rename_mentions_users_to_post_mentions_user','flarum-mentions'),(98,'2018_06_27_102200_change_post_mentions_post_rename_mentions_id_to_mentions_post_id','flarum-mentions'),(99,'2018_06_27_102300_change_post_mentions_post_add_foreign_keys','flarum-mentions'),(100,'2018_06_27_102400_change_post_mentions_user_rename_mentions_id_to_mentions_user_id','flarum-mentions'),(101,'2018_06_27_102500_change_post_mentions_user_add_foreign_keys','flarum-mentions'),(102,'2021_04_19_000000_set_default_settings','flarum-mentions'),(103,'2015_02_24_000000_add_sticky_to_discussions','flarum-sticky'),(104,'2017_07_22_000000_add_default_permissions','flarum-sticky'),(105,'2018_09_15_043621_add_discussions_indices','flarum-sticky'),(106,'2021_01_13_000000_add_discussion_last_posted_at_indices','flarum-sticky'),(107,'2015_05_11_000000_add_subscription_to_users_discussions_table','flarum-subscriptions'),(108,'2015_05_11_000000_add_suspended_until_to_users_table','flarum-suspend'),(109,'2015_09_14_000000_rename_suspended_until_column','flarum-suspend'),(110,'2017_07_22_000000_add_default_permissions','flarum-suspend'),(111,'2018_06_27_111400_change_users_rename_suspend_until_to_suspended_until','flarum-suspend'),(112,'2015_02_24_000000_create_discussions_tags_table','flarum-tags'),(113,'2015_02_24_000000_create_tags_table','flarum-tags'),(114,'2015_02_24_000000_create_users_tags_table','flarum-tags'),(115,'2015_02_24_000000_set_default_settings','flarum-tags'),(116,'2015_10_19_061223_make_slug_unique','flarum-tags'),(117,'2017_07_22_000000_add_default_permissions','flarum-tags'),(118,'2018_06_27_085200_change_tags_columns','flarum-tags'),(119,'2018_06_27_085300_change_tags_add_foreign_keys','flarum-tags'),(120,'2018_06_27_090400_rename_users_tags_to_tag_user','flarum-tags'),(121,'2018_06_27_100100_change_tag_user_rename_read_time_to_marked_as_read_at','flarum-tags'),(122,'2018_06_27_100200_change_tag_user_add_foreign_keys','flarum-tags'),(123,'2018_06_27_103000_rename_discussions_tags_to_discussion_tag','flarum-tags'),(124,'2018_06_27_103100_add_discussion_tag_foreign_keys','flarum-tags'),(125,'2019_04_21_000000_add_icon_to_tags_table','flarum-tags')
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `notifications` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int unsigned NOT NULL,
  `from_user_id` int unsigned DEFAULT NULL,
  `type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `subject_id` int unsigned DEFAULT NULL,
  `data` blob,
  `created_at` datetime NOT NULL,
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0',
  `read_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `notifications_from_user_id_foreign` (`from_user_id`),
  KEY `notifications_user_id_index` (`user_id`),
  CONSTRAINT `notifications_from_user_id_foreign` FOREIGN KEY (`from_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL,
  CONSTRAINT `notifications_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `password_tokens` (
  `token` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`token`),
  KEY `password_tokens_user_id_foreign` (`user_id`),
  CONSTRAINT `password_tokens_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `post_likes` (
  `post_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`post_id`,`user_id`),
  KEY `post_likes_user_id_foreign` (`user_id`),
  CONSTRAINT `post_likes_post_id_foreign` FOREIGN KEY (`post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE,
  CONSTRAINT `post_likes_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `post_mentions_post` (
  `post_id` int unsigned NOT NULL,
  `mentions_post_id` int unsigned NOT NULL,
  PRIMARY KEY (`post_id`,`mentions_post_id`),
  KEY `post_mentions_post_mentions_post_id_foreign` (`mentions_post_id`),
  CONSTRAINT `post_mentions_post_mentions_post_id_foreign` FOREIGN KEY (`mentions_post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE,
  CONSTRAINT `post_mentions_post_post_id_foreign` FOREIGN KEY (`post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `post_mentions_user` (
  `post_id` int unsigned NOT NULL,
  `mentions_user_id` int unsigned NOT NULL,
  PRIMARY KEY (`post_id`,`mentions_user_id`),
  KEY `post_mentions_user_mentions_user_id_foreign` (`mentions_user_id`),
  CONSTRAINT `post_mentions_user_mentions_user_id_foreign` FOREIGN KEY (`mentions_user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  CONSTRAINT `post_mentions_user_post_id_foreign` FOREIGN KEY (`post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `post_user` (
  `post_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  PRIMARY KEY (`post_id`,`user_id`),
  KEY `post_user_user_id_foreign` (`user_id`),
  CONSTRAINT `post_user_post_id_foreign` FOREIGN KEY (`post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE,
  CONSTRAINT `post_user_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `posts` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `discussion_id` int unsigned NOT NULL,
  `number` int unsigned DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `user_id` int unsigned DEFAULT NULL,
  `type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `content` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT ' ',
  `edited_at` datetime DEFAULT NULL,
  `edited_user_id` int unsigned DEFAULT NULL,
  `hidden_at` datetime DEFAULT NULL,
  `hidden_user_id` int unsigned DEFAULT NULL,
  `ip_address` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_private` tinyint(1) NOT NULL DEFAULT '0',
  `is_approved` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `posts_discussion_id_number_unique` (`discussion_id`,`number`),
  KEY `posts_edited_user_id_foreign` (`edited_user_id`),
  KEY `posts_hidden_user_id_foreign` (`hidden_user_id`),
  KEY `posts_discussion_id_number_index` (`discussion_id`,`number`),
  KEY `posts_discussion_id_created_at_index` (`discussion_id`,`created_at`),
  KEY `posts_user_id_created_at_index` (`user_id`,`created_at`),
  FULLTEXT KEY `content` (`content`),
  CONSTRAINT `posts_discussion_id_foreign` FOREIGN KEY (`discussion_id`) REFERENCES `discussions` (`id`) ON DELETE CASCADE,
  CONSTRAINT `posts_edited_user_id_foreign` FOREIGN KEY (`edited_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL,
  CONSTRAINT `posts_hidden_user_id_foreign` FOREIGN KEY (`hidden_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL,
  CONSTRAINT `posts_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `registration_tokens` (
  `token` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` datetime DEFAULT NULL,
  `provider` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `identifier` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_attributes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`token`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `settings` (
  `key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `settings` VALUES ('allow_post_editing','reply'),('allow_renaming','10'),('allow_sign_up','1'),('custom_less',''),('default_locale','en'),('default_route','/all'),('extensions_enabled','[\"flarum-approval\",\"flarum-bbcode\",\"flarum-emoji\",\"flarum-lang-english\",\"flarum-flags\",\"flarum-likes\",\"flarum-lock\",\"flarum-markdown\",\"flarum-mentions\",\"flarum-statistics\",\"flarum-sticky\",\"flarum-subscriptions\",\"flarum-suspend\",\"flarum-tags\"]'),('flarum-markdown.mdarea','1'),('flarum-mentions.allow_username_format','1'),('flarum-tags.max_primary_tags','1'),('flarum-tags.max_secondary_tags','3'),('flarum-tags.min_primary_tags','1'),('flarum-tags.min_secondary_tags','0'),('forum_description',''),('forum_title','A new Flarum forum'),('mail_driver','mail'),('mail_from','noreply@localhost'),('theme_colored_header','0'),('theme_dark_mode','0'),('theme_primary_color','#4D698E'),('theme_secondary_color','#4D698E'),('version','1.0.4'),('welcome_message','Enjoy your new forum! Hop over to discuss.flarum.org if you have any questions, or to join our community!'),('welcome_title','Welcome to Flarum')
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `tag_user` (
  `user_id` int unsigned NOT NULL,
  `tag_id` int unsigned NOT NULL,
  `marked_as_read_at` datetime DEFAULT NULL,
  `is_hidden` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`user_id`,`tag_id`),
  KEY `tag_user_tag_id_foreign` (`tag_id`),
  CONSTRAINT `tag_user_tag_id_foreign` FOREIGN KEY (`tag_id`) REFERENCES `tags` (`id`) ON DELETE CASCADE,
  CONSTRAINT `tag_user_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `tags` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `slug` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `color` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `background_path` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `background_mode` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `position` int DEFAULT NULL,
  `parent_id` int unsigned DEFAULT NULL,
  `default_sort` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_restricted` tinyint(1) NOT NULL DEFAULT '0',
  `is_hidden` tinyint(1) NOT NULL DEFAULT '0',
  `discussion_count` int unsigned NOT NULL DEFAULT '0',
  `last_posted_at` datetime DEFAULT NULL,
  `last_posted_discussion_id` int unsigned DEFAULT NULL,
  `last_posted_user_id` int unsigned DEFAULT NULL,
  `icon` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `tags_slug_unique` (`slug`),
  KEY `tags_parent_id_foreign` (`parent_id`),
  KEY `tags_last_posted_user_id_foreign` (`last_posted_user_id`),
  KEY `tags_last_posted_discussion_id_foreign` (`last_posted_discussion_id`),
  CONSTRAINT `tags_last_posted_discussion_id_foreign` FOREIGN KEY (`last_posted_discussion_id`) REFERENCES `discussions` (`id`) ON DELETE SET NULL,
  CONSTRAINT `tags_last_posted_user_id_foreign` FOREIGN KEY (`last_posted_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL,
  CONSTRAINT `tags_parent_id_foreign` FOREIGN KEY (`parent_id`) REFERENCES `tags` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `tags` VALUES (1,'General','general',NULL,'#888',NULL,NULL,0,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `is_email_confirmed` tinyint(1) NOT NULL DEFAULT '0',
  `password` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `avatar_url` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `preferences` blob,
  `joined_at` datetime DEFAULT NULL,
  `last_seen_at` datetime DEFAULT NULL,
  `marked_all_as_read_at` datetime DEFAULT NULL,
  `read_notifications_at` datetime DEFAULT NULL,
  `discussion_count` int unsigned NOT NULL DEFAULT '0',
  `comment_count` int unsigned NOT NULL DEFAULT '0',
  `read_flags_at` datetime DEFAULT NULL,
  `suspended_until` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `users_username_unique` (`username`),
  UNIQUE KEY `users_email_unique` (`email`),
  KEY `users_joined_at_index` (`joined_at`),
  KEY `users_last_seen_at_index` (`last_seen_at`),
  KEY `users_discussion_count_index` (`discussion_count`),
  KEY `users_comment_count_index` (`comment_count`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO `users` VALUES (1,'admin','admin@example.com',1,'$2y$10$M5sOWbirbKREjbqyqJFe5.rHhU9bc9kdWjVwHY4PYTnVDAEOuNASO',NULL,NULL,'2021-10-15 18:14:42',NULL,NULL,NULL,0,0,NULL,NULL)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SET foreign_key_checks = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM `groups` WHERE (id = ?)
? = 2
----
6 values hashing to f0430291addd0e1957e38dd1f9dfb258

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?)
? = 2
----
1 values hashing to d37a8ef7c0ffa03b2cd2e78f77265bd8

query  rowsort
SELECT * FROM `groups` WHERE (is_hidden = ?)
? = 0
----
24 values hashing to ce33654381bec5bebce82d4bc9dd48c7

query  rowsort
 SELECT * FROM tags WHERE (((parent_id IS NULL) AND (position IS NOT NULL)) AND id IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) UNION DISTINCT SELECT * FROM tags WHERE (id IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL)))) AND ((parent_id IS NULL) AND (position IS NULL))) ORDER BY discussion_count DESC LIMIT 4
? = 1
? = 0
? = 1
? = 0
? = 1
? = 0
? = 1
? = 0
----
17 values hashing to ed0ef5a1a43a5ad286cd6ea9f7bd7880

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 1
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 1
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT id FROM tags WHERE (is_hidden = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM `groups` WHERE (id = ?)
? = 2
----
6 values hashing to f0430291addd0e1957e38dd1f9dfb258

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?)
? = 2
----
1 values hashing to d37a8ef7c0ffa03b2cd2e78f77265bd8

query  rowsort
SELECT * FROM `groups` WHERE (is_hidden = ?)
? = 0
----
24 values hashing to ce33654381bec5bebce82d4bc9dd48c7

query  rowsort
 SELECT * FROM tags WHERE (((parent_id IS NULL) AND (position IS NOT NULL)) AND id IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) UNION DISTINCT SELECT * FROM tags WHERE (id IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL)))) AND ((parent_id IS NULL) AND (position IS NULL))) ORDER BY discussion_count DESC LIMIT 4
? = 1
? = 0
? = 1
? = 0
? = 1
? = 0
? = 1
? = 0
----
17 values hashing to ed0ef5a1a43a5ad286cd6ea9f7bd7880

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 1
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 1
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT id FROM tags WHERE (is_hidden = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM `groups` WHERE (id = ?)
? = 2
----
6 values hashing to f0430291addd0e1957e38dd1f9dfb258

query  rowsort
SELECT count(*) AS aggregate FROM users WHERE (username = ?)
? = test
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT count(*) AS aggregate FROM users WHERE (email = ?)
? = te@s.t
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
INSERT INTO users (username, email, password, joined_at) VALUES (?, ?, ?, ?)
? = test
? = te@s.t
? = $2y$10$oiuntxijibu6ar4bWAiyS.09txV9jLgn/Xr2TbU.KIAi5QNcoFncy
? = 2021-10-15 19:20:28
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO email_tokens (token, user_id, email, created_at) VALUES (?, ?, ?, ?)
? = Xmd8VD2WSvIkKYWpnRXPR8SakJ3VSfRYGzF9gX2d
? = 2
? = te@s.t
? = 2021-10-15 19:20:28
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE users SET is_email_confirmed = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM users WHERE (username = ?) LIMIT 1
? = test
----
15 values hashing to 276ab52bb2e4a6533f8b86b43b9292af

query  rowsort
INSERT INTO access_tokens (type, token, user_id, created_at, last_activity_at) VALUES (?, ?, ?, ?, ?)
? = session_remember
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
? = 2
? = 2021-10-15 19:20:28
? = 2021-10-15 19:20:28
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:28
? = session
? = 2021-10-15 18:20:28
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 55cc4043b732d663593067387f17a02c

query  rowsort
SELECT * FROM users WHERE (id = ?) LIMIT 1
? = 2
----
15 values hashing to 276ab52bb2e4a6533f8b86b43b9292af

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:28
? = session
? = 2021-10-15 18:20:28
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 55cc4043b732d663593067387f17a02c

query  rowsort
UPDATE access_tokens SET last_user_agent = ? WHERE (id = ?)
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:28
? = session
? = 2021-10-15 18:20:28
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 496944a8664004d60d162ede655104e3

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to 276ab52bb2e4a6533f8b86b43b9292af

query  rowsort
UPDATE users SET last_seen_at = ? WHERE (id = ?)
? = 2021-10-15 19:20:28
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT id FROM tags WHERE (is_hidden = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:28
? = session
? = 2021-10-15 18:20:28
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to af3030ae9027d966c670a09439c135da

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:28
? = session
? = 2021-10-15 18:20:28
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 496944a8664004d60d162ede655104e3

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to e88f105553941bf8d3dba39078e98e36

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT EXISTS (SELECT * FROM posts WHERE ((user_id = ?) AND ((created_at >= ?) AND type IN (?, ?, ?, ?, ?)))) AS `exists`
? = 2
? = 2021-10-15 19:20:19
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT * FROM tags WHERE id IN (?)
? = 1
----
17 values hashing to ed0ef5a1a43a5ad286cd6ea9f7bd7880

query  rowsort
INSERT INTO discussions (is_approved, title, slug, created_at, user_id, is_private) VALUES (?, ?, ?, ?, ?, ?)
? = 1
? = new post
? = new-post
? = 2021-10-15 19:20:29
? = 2
? = 0
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussion_tag WHERE (discussion_tag.discussion_id = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO discussion_tag (discussion_id, tag_id) VALUES (?, ?)
? = 1
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT * FROM discussions WHERE ((id = ?) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))))))) LIMIT 1
? = 1
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
----
19 values hashing to dac8882c1bbe9b3ea61b8dd72f4ad4e8

query  rowsort
SELECT * FROM discussions WHERE (discussions.id = ?) LIMIT 1
? = 1
----
19 values hashing to dac8882c1bbe9b3ea61b8dd72f4ad4e8

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussion_tag.discussion_id = ?)
? = 1
----
19 values hashing to bf1c1ca84e36655ac8ba27704fb3c425

query  rowsort
UPDATE discussions SET post_number_index = ? WHERE (id = ?)
? = 1
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO posts (is_approved, created_at, discussion_id, user_id, type, ip_address, content, is_private, number) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
? = 1
? = 2021-10-15 19:20:29
? = 1
? = 2
? = comment
? = 127.0.0.1
? = <t><p>post body</p></t>
? = 0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM post_mentions_user WHERE (post_mentions_user.post_id = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to e88f105553941bf8d3dba39078e98e36

query  rowsort
SELECT * FROM notifications WHERE ((type = ?) AND ((from_user_id = ?) AND ((subject_id = ?) AND (data IS NULL))))
? = userMentioned
? = 2
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM post_mentions_post WHERE (post_mentions_post.post_id = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM posts WHERE ((0 = 1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM posts WHERE (posts.id = ?) LIMIT 1
? = 1
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT * FROM discussions WHERE discussions.id IN (1)
----
19 values hashing to 44594954187d8e2d968fd4389f9f5a10

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to e88f105553941bf8d3dba39078e98e36

query  rowsort
SELECT users.*, discussion_user.discussion_id AS pivot_discussion_id, discussion_user.user_id AS pivot_user_id FROM users INNER JOIN discussion_user ON (users.id = discussion_user.user_id) WHERE ((discussion_user.discussion_id = ?) AND ((users.id != ?) AND ((discussion_user.subscription = ?) AND (discussion_user.last_read_post_number IS NULL))))
? = 1
? = 2
? = follow
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM notifications WHERE ((type = ?) AND ((from_user_id = ?) AND ((subject_id = ?) AND (data = ?))))
? = newPost
? = 2
? = 1
? = {"postNumber":1}
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT count(*) AS aggregate FROM posts WHERE ((posts.discussion_id = ?) AND ((posts.discussion_id IS NOT NULL) AND ((is_private = ?) AND ((hidden_at IS NULL) AND ((type = ?) AND type IN (?, ?, ?, ?, ?))))))
? = 1
? = 0
? = comment
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  nosort
SELECT * FROM posts WHERE ((posts.discussion_id = ?) AND ((posts.discussion_id IS NOT NULL) AND ((is_private = ?) AND ((hidden_at IS NULL) AND ((type = ?) AND type IN (?, ?, ?, ?, ?)))))) ORDER BY created_at DESC LIMIT 1
? = 1
? = 0
? = comment
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT count(distinct users.id) AS aggregate FROM users INNER JOIN posts ON (posts.user_id = users.id) WHERE ((posts.discussion_id = ?) AND ((posts.is_private = ?) AND (posts.type = ?)))
? = 1
? = 0
? = comment
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
UPDATE discussions SET participant_count = ?, last_posted_at = ?, last_posted_user_id = ?, last_post_id = ?, last_post_number = ? WHERE (id = ?)
? = 1
? = 2021-10-15 19:20:29
? = 2
? = 1
? = 1
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT count(*) AS aggregate FROM posts WHERE ((posts.user_id = ?) AND ((posts.user_id IS NOT NULL) AND ((type = ?) AND ((is_private = ?) AND type IN (?, ?, ?, ?, ?)))))
? = 2
? = comment
? = 0
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
UPDATE users SET comment_count = ? WHERE (id = ?)
? = 1
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE tags SET last_posted_at = ?, last_posted_discussion_id = ?, last_posted_user_id = ? WHERE (id = ?)
? = 2021-10-15 19:20:29
? = 1
? = 2
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT count(*) AS aggregate FROM discussions WHERE ((discussions.user_id = ?) AND ((discussions.user_id IS NOT NULL) AND (is_private = ?)))
? = 2
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
UPDATE users SET discussion_count = ? WHERE (id = ?)
? = 1
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussion_tag.discussion_id = ?)
? = 1
----
19 values hashing to 839ae5f50e08533b4a3cab81969ba80d

query  rowsort
UPDATE tags SET discussion_count = ? WHERE (id = ?)
? = 1
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE discussions SET first_post_id = ? WHERE (id = ?)
? = 1
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussions WHERE ((id = ?) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))))))) LIMIT 1
? = 1
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  rowsort
SELECT * FROM discussion_user WHERE ((discussion_user.discussion_id = ?) AND ((discussion_user.discussion_id IS NOT NULL) AND (user_id = ?))) LIMIT 1
? = 1
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
INSERT INTO discussion_user (discussion_id, user_id, last_read_post_number, last_read_at) VALUES (?, ?, ?, ?)
? = 1
? = 2
? = 1
? = 2021-10-15 19:20:29
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussion_user WHERE ((discussion_user.discussion_id = ?) AND ((discussion_user.discussion_id IS NOT NULL) AND (user_id = ?))) LIMIT 1
? = 1
? = 2
----
5 values hashing to 66ba2729c146be7e25c570957d906735

query  rowsort
SELECT * FROM posts WHERE ((posts.discussion_id = ?) AND ((posts.discussion_id IS NOT NULL) AND type IN (?, ?, ?, ?, ?)))
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to bd2cf52a185bb2f0a07e325ede6c27bb

query  rowsort
SELECT * FROM posts WHERE ((posts.id = ?) AND type IN (?, ?, ?, ?, ?)) LIMIT 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT * FROM posts WHERE ((posts.id = ?) AND type IN (?, ?, ?, ?, ?)) LIMIT 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT * FROM discussions WHERE (discussions.id = ?) LIMIT 1
? = 1
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussion_tag.discussion_id = ?)
? = 1
----
19 values hashing to d18cabfffb659d235065dfe2ec43d0ba

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to af3030ae9027d966c670a09439c135da

query  rowsort
UPDATE access_tokens SET last_activity_at = ?, last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 2021-10-15 19:20:29
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 193cd95103d3a621ba578f7d95b96348

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to bd2cf52a185bb2f0a07e325ede6c27bb

query  rowsort
UPDATE users SET last_seen_at = ? WHERE (id = ?)
? = 2021-10-15 19:20:29
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT id FROM tags WHERE (is_hidden = ?)
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
SELECT * FROM posts WHERE (posts.id IN (1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE discussion_tag.discussion_id IN (1)
----
19 values hashing to d18cabfffb659d235065dfe2ec43d0ba

query  rowsort
SELECT * FROM tags WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussion_user WHERE ((user_id = ?) AND discussion_user.discussion_id IN (1))
? = 2
----
5 values hashing to 66ba2729c146be7e25c570957d906735

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 8d2f9e4f3cf6c687af55e9018beb6248

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 193cd95103d3a621ba578f7d95b96348

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT * FROM discussions WHERE ((id = ?) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))))))) LIMIT 1
? = 1
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  nosort
SELECT id FROM posts WHERE ((posts.discussion_id = ?) AND ((posts.discussion_id IS NOT NULL) AND (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND type IN (?, ?, ?, ?, ?)))))) ORDER BY created_at ASC
? = 1
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  nosort
SELECT * FROM posts WHERE ((posts.discussion_id = ?) AND ((posts.discussion_id IS NOT NULL) AND (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND type IN (?, ?, ?, ?, ?)))))) ORDER BY created_at ASC LIMIT 20 OFFSET 0
? = 1
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT * FROM discussions WHERE discussions.id IN (1)
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE group_user.user_id IN (2)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM flags WHERE flags.post_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT users.*, post_likes.post_id AS pivot_post_id, post_likes.user_id AS pivot_user_id FROM users INNER JOIN post_likes ON (users.id = post_likes.user_id) WHERE post_likes.post_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.*, post_mentions_post.mentions_post_id AS pivot_mentions_post_id, post_mentions_post.post_id AS pivot_post_id FROM posts INNER JOIN post_mentions_post ON (posts.id = post_mentions_post.post_id) WHERE (post_mentions_post.mentions_post_id IN (1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE discussion_tag.discussion_id IN (1)
----
19 values hashing to d18cabfffb659d235065dfe2ec43d0ba

query  rowsort
SELECT * FROM tag_user WHERE tag_user.tag_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM tags WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT users.*, post_mentions_user.post_id AS pivot_post_id, post_mentions_user.mentions_user_id AS pivot_mentions_user_id FROM users INNER JOIN post_mentions_user ON (users.id = post_mentions_user.mentions_user_id) WHERE post_mentions_user.post_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.*, post_mentions_post.post_id AS pivot_post_id, post_mentions_post.mentions_post_id AS pivot_mentions_post_id FROM posts INNER JOIN post_mentions_post ON (posts.id = post_mentions_post.mentions_post_id) WHERE (post_mentions_post.post_id IN (1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.id FROM posts WHERE (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND ((0 = 1) AND type IN (?, ?, ?, ?, ?)))))
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussion_user WHERE ((discussion_user.discussion_id = ?) AND ((discussion_user.discussion_id IS NOT NULL) AND (user_id = ?))) LIMIT 1
? = 1
? = 2
----
5 values hashing to 66ba2729c146be7e25c570957d906735

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE ((group_user.user_id = ?) AND (is_hidden = ?))
? = 2
? = 0
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 8d2f9e4f3cf6c687af55e9018beb6248

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 193cd95103d3a621ba578f7d95b96348

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT * FROM tags WHERE (id IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL)))) AND (slug = ?)) LIMIT 1
? = 1
? = 0
? = 1
? = 0
? = general
----
17 values hashing to b1b0784b6621ea71e7a3817b3656227c

query  rowsort
SELECT * FROM tags WHERE tags.parent_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM tags WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM tag_user WHERE tag_user.tag_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 8d2f9e4f3cf6c687af55e9018beb6248

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 193cd95103d3a621ba578f7d95b96348

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  nosort
SELECT discussions.* FROM discussions WHERE (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND (((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND id IN (SELECT discussion_id FROM discussion_user WHERE ((user_id = ?) AND (subscription = ?))))))) ORDER BY last_posted_at DESC LIMIT 21
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 2
? = follow
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 8d2f9e4f3cf6c687af55e9018beb6248

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:29
? = session
? = 2021-10-15 18:20:29
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 193cd95103d3a621ba578f7d95b96348

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT * FROM tags WHERE id IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))
? = 1
? = 0
? = 1
? = 0
----
17 values hashing to b1b0784b6621ea71e7a3817b3656227c

query  rowsort
SELECT * FROM tag_user WHERE (tag_user.tag_id IN (1) AND (user_id = ?))
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM tags WHERE tags.parent_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussions WHERE discussions.id IN (1)
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE discussion_tag.discussion_id IN (1)
----
19 values hashing to d18cabfffb659d235065dfe2ec43d0ba

query  rowsort
SELECT * FROM discussion_user WHERE ((user_id IS NULL) AND discussion_user.discussion_id IN (1))
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 8d2f9e4f3cf6c687af55e9018beb6248

query  rowsort
UPDATE access_tokens SET last_activity_at = ?, last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 2021-10-15 19:20:30
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 9aa010eb5b0df435d0fdff3eff458a23

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to aee64a30e7d0692077763427f8f7a97f

query  rowsort
UPDATE users SET last_seen_at = ? WHERE (id = ?)
? = 2021-10-15 19:20:30
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE users SET read_notifications_at = ? WHERE (id = ?)
? = 2021-10-15 19:20:30
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  nosort
SELECT notifications.*, p.unread_count FROM notifications INNER JOIN (SELECT max(id) AS id, sum((read_at IS NULL)) AS unread_count FROM notifications WHERE ((user_id = ?) AND (type IN (?, ?, ?, ?, ?, ?, ?, ?) AND ((is_deleted = ?) AND ((type IN (?, ?, ?) AND EXISTS (SELECT 1 FROM discussions WHERE ((id = subject_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))))))))) OR ((type IN (?, ?, ?) AND EXISTS (SELECT 1 FROM posts WHERE ((id = subject_id) AND (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND ((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))))))))))) OR (type IN (?, ?) AND EXISTS (SELECT 1 FROM users WHERE (id = subject_id)))))))) GROUP BY type, subject_id ORDER BY max(created_at) DESC LIMIT 11 OFFSET 0) AS p ON (notifications.id = p.id) ORDER BY created_at DESC
? = 2
? = discussionRenamed
? = postLiked
? = discussionLocked
? = postMentioned
? = userMentioned
? = newPost
? = userSuspended
? = userUnsuspended
? = 0
? = discussionRenamed
? = discussionLocked
? = newPost
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = postLiked
? = postMentioned
? = userMentioned
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = userSuspended
? = userUnsuspended
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 458caae4006f820ec55bd42035d9e409

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 9aa010eb5b0df435d0fdff3eff458a23

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT id FROM users WHERE username IN (?)
? = test
----
1 values hashing to 26ab0db90d72e28ad0ba1e22ee510510

query  nosort
SELECT * FROM posts WHERE (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (posts.user_id IN (?) AND ((posts.type = ?) AND type IN (?, ?, ?, ?, ?)))))) ORDER BY created_at DESC LIMIT 21
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 2
? = comment
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
14 values hashing to a272663afbb344847be0840af9ace35e

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE group_user.user_id IN (2)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM users WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussions WHERE discussions.id IN (1)
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  rowsort
SELECT * FROM flags WHERE flags.post_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT users.*, post_likes.post_id AS pivot_post_id, post_likes.user_id AS pivot_user_id FROM users INNER JOIN post_likes ON (users.id = post_likes.user_id) WHERE post_likes.post_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.*, post_mentions_post.mentions_post_id AS pivot_mentions_post_id, post_mentions_post.post_id AS pivot_post_id FROM posts INNER JOIN post_mentions_post ON (posts.id = post_mentions_post.post_id) WHERE (post_mentions_post.mentions_post_id IN (1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE discussion_tag.discussion_id IN (1)
----
19 values hashing to d18cabfffb659d235065dfe2ec43d0ba

query  rowsort
SELECT users.*, post_mentions_user.post_id AS pivot_post_id, post_mentions_user.mentions_user_id AS pivot_mentions_user_id FROM users INNER JOIN post_mentions_user ON (users.id = post_mentions_user.mentions_user_id) WHERE post_mentions_user.post_id IN (1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.*, post_mentions_post.post_id AS pivot_post_id, post_mentions_post.mentions_post_id AS pivot_mentions_post_id FROM posts INNER JOIN post_mentions_post ON (posts.id = post_mentions_post.mentions_post_id) WHERE (post_mentions_post.post_id IN (1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.id FROM posts WHERE (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND ((0 = 1) AND type IN (?, ?, ?, ?, ?)))))
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE ((group_user.user_id = ?) AND (is_hidden = ?))
? = 2
? = 0
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 458caae4006f820ec55bd42035d9e409

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 9aa010eb5b0df435d0fdff3eff458a23

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  rowsort
SELECT id FROM users WHERE (username = ?) LIMIT 1
? = test
----
1 values hashing to 26ab0db90d72e28ad0ba1e22ee510510

query  nosort
SELECT discussions.* FROM discussions WHERE (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND (((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND discussions.user_id IN (?))))) ORDER BY created_at DESC LIMIT 21
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 2
----
19 values hashing to 4cc09d7229f7081025c0aa44eee20bfb

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
SELECT * FROM users WHERE users.id IN (2)
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
SELECT * FROM posts WHERE ((0 = 1) AND type IN (?, ?, ?, ?, ?))
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT tags.*, discussion_tag.discussion_id AS pivot_discussion_id, discussion_tag.tag_id AS pivot_tag_id FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE discussion_tag.discussion_id IN (1)
----
19 values hashing to d18cabfffb659d235065dfe2ec43d0ba

query  rowsort
SELECT * FROM tags WHERE (0 = 1)
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM discussion_user WHERE ((user_id = ?) AND discussion_user.discussion_id IN (1))
? = 2
----
5 values hashing to 66ba2729c146be7e25c570957d906735

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 458caae4006f820ec55bd42035d9e409

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 9aa010eb5b0df435d0fdff3eff458a23

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT `groups`.*, group_user.user_id AS pivot_user_id, group_user.group_id AS pivot_group_id FROM `groups` INNER JOIN group_user ON (`groups`.id = group_user.group_id) WHERE (group_user.user_id = ?)
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT permission FROM group_permission WHERE group_id IN (?, ?)
? = 2
? = 3
----
8 values hashing to da3692841b36aa0ee123477b5cd2182d

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NOT NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to b026324c6904b2a9cb4b88d6d61c81d1

query  rowsort
SELECT count(*) AS aggregate FROM tags WHERE ((tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))) AND (tags.position IS NULL))
? = 1
? = 0
? = 1
? = 0
----
1 values hashing to 897316929176464ebc9ad085f31e7284

query  nosort
SELECT * FROM posts INNER JOIN post_mentions_user ON (posts.id = post_mentions_user.post_id) WHERE (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND ((posts.type = ?) AND ((post_mentions_user.mentions_user_id = ?) AND type IN (?, ?, ?, ?, ?)))))) ORDER BY created_at DESC LIMIT 21
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = comment
? = 2
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT posts.id FROM posts WHERE (EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE (((perm_tags.is_restricted = ?) AND (0 = 1)) OR (perm_tags.is_restricted = ?))) OR (tags.parent_id IS NULL))))) AND (((discussions.is_private = ?) OR ((discussions.is_approved = ?) AND ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))) AND (((discussions.hidden_at IS NULL) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id))))) AND ((discussions.comment_count > ?) OR ((discussions.user_id = ?) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))))) AND (((posts.is_private = ?) OR ((posts.is_approved = ?) AND ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND (((posts.hidden_at IS NULL) OR ((posts.user_id = ?) OR EXISTS (SELECT 1 FROM discussions WHERE ((discussions.id = posts.discussion_id) AND ((1 = 0) OR (discussions.id NOT IN (SELECT discussion_id FROM discussion_tag WHERE tag_id NOT IN (SELECT tags.id FROM tags WHERE (tags.id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) AND (tags.parent_id IN (SELECT perm_tags.id FROM tags AS perm_tags WHERE ((perm_tags.is_restricted = ?) AND (0 = 1))) OR (tags.parent_id IS NULL))))) AND EXISTS (SELECT * FROM tags INNER JOIN discussion_tag ON (tags.id = discussion_tag.tag_id) WHERE (discussions.id = discussion_tag.discussion_id)))))))) AND ((0 = 1) AND type IN (?, ?, ?, ?, ?)))))
? = 1
? = 0
? = 1
? = 0
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = 0
? = 2
? = 1
? = 1
? = 0
? = 0
? = 2
? = 1
? = 1
? = 2
? = 1
? = 1
? = discussionLocked
? = discussionStickied
? = discussionTagged
? = comment
? = discussionRenamed
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 458caae4006f820ec55bd42035d9e409

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:30
? = session
? = 2021-10-15 18:20:30
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 9aa010eb5b0df435d0fdff3eff458a23

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:31
? = session
? = 2021-10-15 18:20:31
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to 458caae4006f820ec55bd42035d9e409

query  rowsort
UPDATE access_tokens SET last_activity_at = ?, last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 2021-10-15 19:20:31
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:31
? = session
? = 2021-10-15 18:20:31
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to b26ba399e2577f0d1c2b5fbbd0bb8318

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to dad6174347d48d5326d9af70ebc1b529

query  rowsort
UPDATE users SET last_seen_at = ? WHERE (id = ?)
? = 2021-10-15 19:20:31
? = 2
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
use `test`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

statement ok
SET NAMES 'utf8mb4' COLLATE 'utf8mb4_unicode_ci'


statement ok
SET @@SESSION.sql_mode = 'NO_ENGINE_SUBSTITUTION'


query  rowsort
SELECT value, `key` FROM settings
----
48 values hashing to e11d463eff76c9eead8ddf378d651ea0

query  rowsort
DELETE FROM access_tokens WHERE (((type = ?) AND FALSE) OR (((type = ?) AND (last_activity_at < ?)) OR ((type = ?) AND (last_activity_at < ?))))
? = developer
? = session_remember
? = 2016-10-16 19:20:31
? = session
? = 2021-10-15 18:20:31
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
DELETE FROM email_tokens WHERE (created_at <= ?)
? = 2021-10-14 19:20:31
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
DELETE FROM password_tokens WHERE (created_at <= ?)
? = 2021-10-14 19:20:31
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
DELETE FROM registration_tokens WHERE (created_at <= ?)
? = 2021-10-14 19:20:31
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:31
? = session
? = 2021-10-15 18:20:31
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to c79dabf25abcf4da6ba338aeb3c94136

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = NULL
? = NULL
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT * FROM access_tokens WHERE (((type = ?) OR (((type = ?) AND (last_activity_at > ?)) OR ((type = ?) AND (last_activity_at > ?)))) AND (token = ?)) LIMIT 1
? = developer
? = session_remember
? = 2016-10-16 19:20:31
? = session
? = 2021-10-15 18:20:31
? = FgNWmu4Yw5c8kPLKjYYkcwIKd5Ghp7HNI7LCgxvq
----
9 values hashing to b26ba399e2577f0d1c2b5fbbd0bb8318

query  rowsort
SELECT * FROM users WHERE (users.id = ?) LIMIT 1
? = 2
----
15 values hashing to 602b70c77dd43fb5b773a49b8b0fcefe

query  rowsort
UPDATE access_tokens SET last_ip_address = ?, last_user_agent = ? WHERE (id = ?)
? = 127.0.0.1
? = curl/7.74.0
? = 1
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e

query  rowsort
SELECT DISTINCT TABLE_NAME, CONSTRAINT_NAME FROM information_schema.KEY_COLUMN_USAGE WHERE REFERENCED_TABLE_NAME IS NOT NULL
----
76 values hashing to 907269df729592765ecede6686b14bdc

statement ok
ALTER TABLE `access_tokens` DROP FOREIGN KEY `access_tokens_user_id_foreign`


statement ok
ALTER TABLE `api_keys` DROP FOREIGN KEY `api_keys_user_id_foreign`


statement ok
ALTER TABLE `discussion_tag` DROP FOREIGN KEY `discussion_tag_discussion_id_foreign`


statement ok
ALTER TABLE `discussion_tag` DROP FOREIGN KEY `discussion_tag_tag_id_foreign`


statement ok
ALTER TABLE `discussion_user` DROP FOREIGN KEY `discussion_user_discussion_id_foreign`


statement ok
ALTER TABLE `discussion_user` DROP FOREIGN KEY `discussion_user_user_id_foreign`


statement ok
ALTER TABLE `discussions` DROP FOREIGN KEY `discussions_first_post_id_foreign`


statement ok
ALTER TABLE `discussions` DROP FOREIGN KEY `discussions_hidden_user_id_foreign`


statement ok
ALTER TABLE `discussions` DROP FOREIGN KEY `discussions_last_posted_user_id_foreign`


statement ok
ALTER TABLE `discussions` DROP FOREIGN KEY `discussions_last_post_id_foreign`


statement ok
ALTER TABLE `discussions` DROP FOREIGN KEY `discussions_user_id_foreign`


statement ok
ALTER TABLE `email_tokens` DROP FOREIGN KEY `email_tokens_user_id_foreign`


statement ok
ALTER TABLE `flags` DROP FOREIGN KEY `flags_post_id_foreign`


statement ok
ALTER TABLE `flags` DROP FOREIGN KEY `flags_user_id_foreign`


statement ok
ALTER TABLE `group_permission` DROP FOREIGN KEY `group_permission_group_id_foreign`


statement ok
ALTER TABLE `group_user` DROP FOREIGN KEY `group_user_group_id_foreign`


statement ok
ALTER TABLE `group_user` DROP FOREIGN KEY `group_user_user_id_foreign`


statement ok
ALTER TABLE `login_providers` DROP FOREIGN KEY `login_providers_user_id_foreign`


statement ok
ALTER TABLE `notifications` DROP FOREIGN KEY `notifications_from_user_id_foreign`


statement ok
ALTER TABLE `notifications` DROP FOREIGN KEY `notifications_user_id_foreign`


statement ok
ALTER TABLE `password_tokens` DROP FOREIGN KEY `password_tokens_user_id_foreign`


statement ok
ALTER TABLE `post_likes` DROP FOREIGN KEY `post_likes_post_id_foreign`


statement ok
ALTER TABLE `post_likes` DROP FOREIGN KEY `post_likes_user_id_foreign`


statement ok
ALTER TABLE `post_mentions_post` DROP FOREIGN KEY `post_mentions_post_mentions_post_id_foreign`


statement ok
ALTER TABLE `post_mentions_post` DROP FOREIGN KEY `post_mentions_post_post_id_foreign`


statement ok
ALTER TABLE `post_mentions_user` DROP FOREIGN KEY `post_mentions_user_mentions_user_id_foreign`


statement ok
ALTER TABLE `post_mentions_user` DROP FOREIGN KEY `post_mentions_user_post_id_foreign`


statement ok
ALTER TABLE `post_user` DROP FOREIGN KEY `post_user_post_id_foreign`


statement ok
ALTER TABLE `post_user` DROP FOREIGN KEY `post_user_user_id_foreign`


statement ok
ALTER TABLE `posts` DROP FOREIGN KEY `posts_discussion_id_foreign`


statement ok
ALTER TABLE `posts` DROP FOREIGN KEY `posts_edited_user_id_foreign`


statement ok
ALTER TABLE `posts` DROP FOREIGN KEY `posts_hidden_user_id_foreign`


statement ok
ALTER TABLE `posts` DROP FOREIGN KEY `posts_user_id_foreign`


statement ok
ALTER TABLE `tag_user` DROP FOREIGN KEY `tag_user_tag_id_foreign`


statement ok
ALTER TABLE `tag_user` DROP FOREIGN KEY `tag_user_user_id_foreign`


statement ok
ALTER TABLE `tags` DROP FOREIGN KEY `tags_last_posted_discussion_id_foreign`


statement ok
ALTER TABLE `tags` DROP FOREIGN KEY `tags_last_posted_user_id_foreign`


statement ok
ALTER TABLE `tags` DROP FOREIGN KEY `tags_parent_id_foreign`


query  rowsort
SHOW TABLES
----
24 values hashing to 71facf1f4f294d19ae6feb16f7709e76

query  rowsort
DROP TABLE `access_tokens`,`api_keys`,`discussion_tag`,`discussion_user`,`discussions`,`email_tokens`,`flags`,`group_permission`,`group_user`,`groups`,`login_providers`,`migrations`,`notifications`,`password_tokens`,`post_likes`,`post_mentions_post`,`post_mentions_user`,`post_user`,`posts`,`registration_tokens`,`settings`,`tag_user`,`tags`,`users`
----
0 values hashing to d41d8cd98f00b204e9800998ecf8427e
